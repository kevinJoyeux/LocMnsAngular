<html>

<body>
  <div class="container">
    <h1>
      {{ isCreation ? "Ajouter un utilisateur" : "Modifier l'utilisateur" }}
    </h1>
    <form class="p-5 ng-valid ng-dirty ng-touched" [formGroup]="formulaire" id="formulaire">
      <div class="form-group row pt-4">
        <label for="firstName" class="col-md-2 col-form-label">Prénom</label>
        <div class="col-md-4">
          <input type="text" formControlName="prenom" id="prenom" placeholder="Prénom"
            class="form-control ng-untouched ng-pristine ng-valid" required minlength="3" />
        </div>
        <label for="lastName" class="col-md-2 col-form-label">Nom</label>
        <div class="col-md-4">
          <input type="text" formControlName="nom" id="nom" placeholder="Nom"
            class="form-control ng-untouched ng-pristine ng-valid" required minlength="3" />
        </div>
      </div>

      <div class="form-group row pt-4">
        <label for="login" class="col-md-2 col-form-label">Login</label>
        <div class="col-md-4">
          <input type="text" formControlName="login" id="username" placeholder="Login"
            class="form-control ng-untouched ng-pristine ng-valid" required minlength="3" />
        </div>
        <label for="email" class="col-md-2 col-form-label">Email</label>
        <div class="col-md-4">
          <input type="text" formControlName="email" id="email" placeholder="Email"
            class="form-control ng-untouched ng-pristine ng-valid" required />
        </div>
      </div>

      <div class="form-group row pt-4">
        <label for="sexe" class="col-md-2 col-form-label">Sexe</label>
        <div class="col-md-4">
          <select id="sexe" class="form-control ng-untouched ng-pristine ng-valid" required formControlName="sexe">
            <option value="" disabled selected hidden>
              --- Sélection du sexe ---
            </option>
            <option value="F" name="sexe">Femme</option>
            <option value="M" name="sexe">Homme</option>
          </select>
        </div>
        <label for="affiliation" class="col-md-2 col-form-label">Affiliation</label>
        <div class="col-md-4">
          <select id="affiliation" class="form-control ng-untouched ng-pristine ng-valid" required
            formControlName="affiliation">
            <option value="" disabled selected hidden>
              --- Sélection de l'affiliation ---
            </option>
            <option value="Metz Numeric School" name="affiliation">
              Metz Numeric School
            </option>
            <option value="IFA" name="affiliation">IFA</option>
          </select>
        </div>
      </div>

      <div class="form-group row pt-4">
        <label for="portable" class="col-md-2 col-form-label">Numéro de téléphone</label>
        <div class="col-md-4">
          <input type="text" formControlName="portable" placeholder="Téléphone"
            class="form-control ng-untouched ng-pristine ng-valid" id="portable" name="portable"
            pattern="[0-9]{2}.[0-9]{2}.[0-9]{2}.[0-9]{2}.[0-9]{2}" required />
        </div>

        <label for="statut" class="col-md-2 col-form-label">Statut</label>
        <div class="col-md-4">
          <select id="statut" class="form-control ng-untouched ng-pristine ng-valid" required formControlName="statut"
            [compareWith]="compareStatut">
            <option *ngFor="let statut of listeStatut" [ngValue]="statut">
              {{statut.nomStatut}}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group row pt-4">
        <label for="motDePasse" class="col-md-2 col-form-label">Mot de passe</label>
        <div class="col-md-4">
          <input type="text" formControlName="motDePasse" id="motDePasse" placeholder="Password"
            class="form-control ng-untouched ng-pristine ng-valid" required />
        </div>
        <div>
          <button (click)="Inserer()">Générer</button>
        </div>
      </div>

      <div class="action-buttons d-flex justify-content-end pt-5">
        <a routerLink="/userAccount" class="m-1 btn btn-outline-primary btn-block">Retour</a>
        <button (click)="onSubmit()" class="m-1 btn btn-primary btn-block">
          Sauvegarder
        </button>
      </div>
    </form>
  </div>
</body>

</html>